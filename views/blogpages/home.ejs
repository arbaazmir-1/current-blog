<% layout('layout/boilerplate') %>
<div class="container" style="margin-top: 10px;">
<div class="alert alert-info d-flex justify-content-between mt-3" role="alert">
    <h2>Top Blogs</h2>
    
</div>
    <div class="row">
       
        <% let validPostCount=0; %>
            <% for(post of posts) { %>
        
                <% if(post.likes>= 0 && validPostCount < 8){ %>
                        <% validPostCount++ %>
                            <div class="col">
                                <div class="card d-flex flex-column text-white mb-2" style="width: 18rem;">
                                    <img src="<%=post.image.url%>" class="card-img" style="height: 300px;width: auto;" alt="...">
                                    <div class="card-img-overlay align-self-end">
                                        <h5 style="background-color: white;color: black;border-radius: 10px; text-align: center;"
                                            class="card-title">
                                            <%=post.title%>
                                        </h5>
                                        <p style="text-shadow: 0.5px 0.5px 0.5px #00000050;" class="card-text">
                                            <%=post.content.slice(0,105)%>...
                                        </p>
                                        <a href="/home/<%=post._id%>" class="btn btn-primary shadow">Continue Reading</a>
        
                                    </div>
                                    <div class="d-flex justify-content-between">
                                        <div style="color: black;" class="card-footer bg-transparent">
                                            <%=post.likes%> <span> </span> <i style="color: red;"
                                                    class="fas fa-heart d-inline"></i>
                                        </div>
                                        <% if(!post.date){ %>
                                            <div style="color: black;" class="card-footer bg-transparent">Test Mode <span>
                                                </span> <i class="fas fa-calendar-alt"></i></div>
                                            <% }else{ %>
                                                <div style="color: black;" class="card-footer bg-transparent">
                                                    <%=post.date%> <span> </span> <i class="fas fa-calendar-alt"></i>
                                                </div>
                                                <% } %>
                                    </div>
                                </div>
                            </div>
        
                            <% } %>
        
                                <% } %>
        

        
    </div>
    <div class="alert alert-light d-flex justify-content-between mt-3" role="alert">
        <h2>All Blogs</h2>
        <a class="btn btn-success" style="text-align: center;" href="/home/showall">Show All Blogs</a>
    </div>
    <div class="row">
    
      <% for(let i=0;i<5;i++){ %> 
        
        <div class="col">
            <div class="card d-flex flex-column text-white mb-2 " style="width: 18rem;">
                <img src="<%=posts[i].image.url%>" class="card-img" style="height: 300px;width: auto;" alt="...">
                <div class="card-img-overlay align-self-end">
                    <h5 style="background-color: white;color: black;border-radius: 10px; text-align: center;" class="card-title">
                        <%=posts[i].title%>
                    </h5>
                    <p style="text-shadow: 0.5px 0.5px 0.5px #00000050;" class="card-text">
                        <%=posts[i].content.slice(0,105)%>...
                    </p>
                    <a href="/home/<%=posts[i]._id%>" class="btn btn-primary shadow">Continue Reading</a>
                    
                </div>
                  <div class="d-flex justify-content-between">
                    <div style="color: black;" class="card-footer bg-transparent"><%=posts[i].likes%> <span> </span> <i style="color: red;" class="fas fa-heart d-inline"></i></div>
                    <% if(!posts[i].date){ %> 
                        <div style="color: black;" class="card-footer bg-transparent">Test Mode <span> </span> <i class="fas fa-calendar-alt"></i></div>
                        <% }else{ %> 
                    <div style="color: black;" class="card-footer bg-transparent"><%=posts[i].date%> <span> </span> <i class="fas fa-calendar-alt"></i></div>
                    <% } %> 
                    </div>
                
              
            </div>
            
        </div>
       
        <% } %> 
      
   
   
</div>